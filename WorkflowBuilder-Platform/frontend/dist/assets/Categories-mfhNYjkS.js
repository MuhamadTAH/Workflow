import{r as a,t as F,j as e,N as k,S as j,a as A,n as D,c as L,p as M}from"./index-BXAzR72f.js";function z(){const[o,i]=a.useState([]),[C,y]=a.useState(!0),[h,N]=a.useState(""),[p,r]=a.useState(""),[f,c]=a.useState(!1),[l,d]=a.useState(null),[t,u]=a.useState({name:"",description:"",color:"#667eea"});if(!F.isLoggedIn())return e.jsx(k,{to:"/login"});a.useEffect(()=>{v()},[]);const v=async()=>{try{i([{id:1,name:"Electronics",productCount:12,description:"Electronic devices and accessories",color:"#3b82f6"},{id:2,name:"Clothing",productCount:8,description:"Fashion and apparel items",color:"#ef4444"},{id:3,name:"Home & Garden",productCount:5,description:"Home improvement and garden supplies",color:"#22c55e"}])}catch(s){console.error("Error loading categories:",s),N("Failed to load categories")}finally{y(!1)}},m=s=>{u({...t,[s.target.name]:s.target.value})},x=()=>{c(!0),d(null),u({name:"",description:"",color:"#667eea"})},b=s=>{d(s),c(!0),u({name:s.name,description:s.description||"",color:s.color||"#667eea"})},E=s=>{if(s.preventDefault(),l){const n=o.map(g=>g.id===l.id?{...g,...t}:g);i(n),r("Category updated successfully!")}else{const n={id:Date.now(),...t,productCount:0};i([...o,n]),r("Category added successfully!")}c(!1),d(null),setTimeout(()=>r(""),3e3)},S=s=>{window.confirm("Are you sure you want to delete this category?")&&(i(o.filter(n=>n.id!==s)),r("Category deleted successfully!"),setTimeout(()=>r(""),3e3))},w=()=>{c(!1),d(null),u({name:"",description:"",color:"#667eea"})};return C?e.jsx(j,{title:"Categories",subtitle:"Manage your product categories",children:e.jsx("div",{className:"loading",children:"Loading categories..."})}):e.jsx(j,{title:"Categories",subtitle:"Organize your products into categories",children:e.jsxs("div",{className:"categories-page",children:[h&&e.jsx("div",{className:"error-message",children:h}),p&&e.jsx("div",{className:"success-message",children:p}),e.jsxs("div",{className:"categories-header",children:[e.jsxs("h3",{children:["Product Categories (",o.length,")"]}),e.jsxs("button",{className:"btn btn-primary",onClick:x,children:[e.jsx(A,{})," Add Category"]})]}),o.length===0?e.jsxs("div",{className:"no-categories-message",children:[e.jsx(D,{className:"no-categories-icon"}),e.jsx("h3",{children:"No Categories Yet"}),e.jsx("p",{children:"Create categories to better organize your products!"}),e.jsx("button",{className:"btn btn-primary",onClick:x,children:"Add Your First Category"})]}):e.jsx("div",{className:"categories-grid",children:o.map(s=>e.jsx("div",{className:"category-card",children:e.jsxs("div",{className:"category-content",children:[e.jsxs("div",{className:"category-header",children:[e.jsxs("div",{className:"category-name-section",children:[e.jsx("div",{className:"category-color-indicator",style:{backgroundColor:s.color}}),e.jsx("h4",{className:"category-name",children:s.name})]}),e.jsxs("div",{className:"category-count",children:[s.productCount," products"]})]}),s.description&&e.jsx("p",{className:"category-description",children:s.description}),e.jsxs("div",{className:"category-actions",children:[e.jsx("button",{className:"btn-icon",title:"Edit Category",onClick:()=>b(s),children:e.jsx(L,{})}),e.jsx("button",{className:"btn-icon danger",title:"Delete Category",onClick:()=>S(s.id),children:e.jsx(M,{})})]})]})},s.id))}),f&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:l?"Edit Category":"Add New Category"}),e.jsxs("form",{onSubmit:E,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category Name *"}),e.jsx("input",{type:"text",name:"name",value:t.name,onChange:m,placeholder:"Enter category name",required:!0,className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{name:"description",value:t.description,onChange:m,placeholder:"Optional description for this category",className:"form-textarea",rows:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category Color"}),e.jsxs("div",{className:"color-input-section",children:[e.jsx("input",{type:"color",name:"color",value:t.color,onChange:m,className:"color-input"}),e.jsx("span",{className:"color-preview",style:{backgroundColor:t.color}}),e.jsx("small",{children:"Choose a color to help identify this category"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:w,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:l?"Update Category":"Add Category"})]})]})]})})]})})}export{z as default};
