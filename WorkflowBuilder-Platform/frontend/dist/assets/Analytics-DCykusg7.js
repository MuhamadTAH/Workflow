import{r as t,t as j,j as e,N,s as g,S as r,B as l,C as p,D as y,v as C}from"./index-BXAzR72f.js";function S(){const[n,o]=t.useState(null),[s,m]=t.useState(null),[h,u]=t.useState(!0),[d,v]=t.useState(""),[i,c]=t.useState("30days");if(!j.isLoggedIn())return e.jsx(N,{to:"/login"});t.useEffect(()=>{x()},[i]);const x=async()=>{try{const a=await g.getMyShop();o(a.data.shop),m({totalViews:1247,totalOrders:23,totalRevenue:1850.5,totalProducts:a.data.shop?.productCount||0,viewsChange:12.5,ordersChange:-5.2,revenueChange:18.7,productsChange:8.3,recentOrders:[{id:1,customerName:"John Doe",amount:125,date:"2025-07-28",status:"completed"},{id:2,customerName:"Jane Smith",amount:89.99,date:"2025-07-27",status:"pending"},{id:3,customerName:"Bob Johnson",amount:245.5,date:"2025-07-26",status:"completed"}],topProducts:[{id:1,name:"Product A",sales:15,revenue:450},{id:2,name:"Product B",sales:8,revenue:320},{id:3,name:"Product C",sales:5,revenue:125}]})}catch(a){console.error("Error loading analytics:",a),v("Failed to load analytics data")}finally{u(!1)}};return h?e.jsx(r,{title:"Analytics",subtitle:"Track your shop performance",children:e.jsx("div",{className:"loading",children:"Loading analytics..."})}):n?e.jsx(r,{title:"Analytics",subtitle:`Performance metrics for ${n.displayName}`,children:e.jsxs("div",{className:"analytics-page",children:[d&&e.jsx("div",{className:"error-message",children:d}),e.jsx("div",{className:"analytics-controls",children:e.jsxs("div",{className:"time-range-selector",children:[e.jsx("button",{className:`time-btn ${i==="7days"?"active":""}`,onClick:()=>c("7days"),children:"Last 7 Days"}),e.jsx("button",{className:`time-btn ${i==="30days"?"active":""}`,onClick:()=>c("30days"),children:"Last 30 Days"}),e.jsx("button",{className:`time-btn ${i==="90days"?"active":""}`,onClick:()=>c("90days"),children:"Last 90 Days"})]})}),e.jsxs("div",{className:"metrics-grid",children:[e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-icon views",children:e.jsx(l,{})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{children:"Store Views"}),e.jsx("div",{className:"metric-value",children:s.totalViews.toLocaleString()}),e.jsxs("div",{className:`metric-change ${s.viewsChange>=0?"positive":"negative"}`,children:[s.viewsChange>=0?"+":"",s.viewsChange,"%"]})]})]}),e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-icon orders",children:e.jsx(p,{})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{children:"Total Orders"}),e.jsx("div",{className:"metric-value",children:s.totalOrders}),e.jsxs("div",{className:`metric-change ${s.ordersChange>=0?"positive":"negative"}`,children:[s.ordersChange>=0?"+":"",s.ordersChange,"%"]})]})]}),e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-icon revenue",children:e.jsx(y,{})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{children:"Total Revenue"}),e.jsxs("div",{className:"metric-value",children:["$",s.totalRevenue.toFixed(2)]}),e.jsxs("div",{className:`metric-change ${s.revenueChange>=0?"positive":"negative"}`,children:[s.revenueChange>=0?"+":"",s.revenueChange,"%"]})]})]}),e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-icon products",children:e.jsx(C,{})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{children:"Total Products"}),e.jsx("div",{className:"metric-value",children:s.totalProducts}),e.jsxs("div",{className:`metric-change ${s.productsChange>=0?"positive":"negative"}`,children:[s.productsChange>=0?"+":"",s.productsChange,"%"]})]})]})]}),e.jsxs("div",{className:"analytics-details",children:[e.jsxs("div",{className:"recent-orders",children:[e.jsx("h3",{children:"Recent Orders"}),e.jsx("div",{className:"orders-list",children:s.recentOrders.map(a=>e.jsxs("div",{className:"order-item",children:[e.jsx("div",{className:"order-customer",children:a.customerName}),e.jsxs("div",{className:"order-amount",children:["$",a.amount.toFixed(2)]}),e.jsx("div",{className:"order-date",children:a.date}),e.jsx("div",{className:`order-status ${a.status}`,children:a.status})]},a.id))})]}),e.jsxs("div",{className:"top-products",children:[e.jsx("h3",{children:"Top Products"}),e.jsx("div",{className:"products-list",children:s.topProducts.map(a=>e.jsxs("div",{className:"product-item",children:[e.jsx("div",{className:"product-name",children:a.name}),e.jsxs("div",{className:"product-sales",children:[a.sales," sales"]}),e.jsxs("div",{className:"product-revenue",children:["$",a.revenue.toFixed(2)]})]},a.id))})]})]})]})}):e.jsx(r,{title:"Analytics",subtitle:"Track your shop performance",children:e.jsxs("div",{className:"no-shop-message",children:[e.jsx(l,{className:"no-shop-icon"}),e.jsx("h2",{children:"No Shop Found"}),e.jsx("p",{children:"Create a shop to start tracking analytics."})]})})}export{S as default};
